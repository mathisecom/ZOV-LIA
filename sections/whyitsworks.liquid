{% comment %}
  Why It Works - Benefits Section
  Responsive grid layout for desktop and mobile
{% endcomment %}

<style>
  .benefits-section-{{ section.id }} {
    --bg-color: {{ section.settings.background_color }};
    --text-color: {{ section.settings.text_color }};
    --card-bg-color: {{ section.settings.card_background_color }};
    --border-color: {{ section.settings.border_color }};
    --accent-color: {{ section.settings.accent_color }};
    --button-bg-color: {{ section.settings.button_background_color }};
    --button-text-color: {{ section.settings.button_text_color }};
  }

  .benefits-section {
    padding: 80px 20px;
    background-color: var(--bg-color);
  }

  .benefits-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .benefits-badge {
    display: inline-block;
    background-color: var(--accent-color);
    color: white;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 8px 20px;
    border-radius: 20px;
    margin-bottom: 20px;
  }

  .benefits-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .benefits-title {
    font-size: 42px;
    font-weight: 700;
    color: var(--text-color);
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .benefits-subtitle {
    font-size: 18px;
    color: var(--text-color);
    opacity: 0.7;
    line-height: 1.5;
    max-width: 700px;
    margin: 0 auto;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    margin-bottom: 50px;
  }

  .benefits-card {
    background: var(--card-bg-color);
    border: 2px solid transparent;
    border-radius: 16px;
    padding: 32px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .benefits-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .benefits-card.featured {
    border-color: var(--accent-color);
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 1));
  }

  .card-image-wrapper {
    width: 80px;
    height: 80px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }

  .card-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-color);
    margin-bottom: 16px;
    line-height: 1.3;
  }

  .card-description {
    font-size: 15px;
    color: var(--text-color);
    opacity: 0.75;
    line-height: 1.6;
    margin: 0;
  }

  .benefits-cta {
    text-align: center;
    padding-top: 30px;
  }

  .benefits-button {
    display: inline-block;
    background-color: var(--button-bg-color);
    color: var(--button-text-color);
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 18px 50px;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .benefits-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    opacity: 0.95;
  }

  .benefits-guarantee {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 16px;
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.8;
  }

  .guarantee-icon {
    width: 20px;
    height: 20px;
  }

  /* Tablet */
  @media (max-width: 1024px) {
    .benefits-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .benefits-card:nth-child(1) {
      grid-column: 1 / -1;
    }
  }

  /* Mobile */
  @media (max-width: 768px) {
    .benefits-section {
      padding: 60px 16px;
    }

    .benefits-title {
      font-size: 32px;
    }

    .benefits-subtitle {
      font-size: 16px;
    }

    .benefits-header {
      margin-bottom: 40px;
    }

    .benefits-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .benefits-card:nth-child(1) {
      grid-column: auto;
    }

    .benefits-card {
      padding: 24px;
    }

    .card-image-wrapper {
      width: 60px;
      height: 60px;
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 18px;
    }

    .card-description {
      font-size: 14px;
    }

    .benefits-button {
      width: 100%;
      padding: 16px 40px;
    }
  }
</style>

<section class="benefits-section benefits-section-{{ section.id }}">
  <div class="benefits-container">
    
    <div class="benefits-header">
      {% if section.settings.badge_text != blank %}
        <div class="benefits-badge">{{ section.settings.badge_text }}</div>
      {% endif %}
      
      <h2 class="benefits-title">{{ section.settings.title }}</h2>
      
      {% if section.settings.subtitle != blank %}
        <p class="benefits-subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}
    </div>

    <div class="benefits-grid">
      {% for block in section.blocks %}
        <div class="benefits-card {% if block.settings.featured %}featured{% endif %}" {{ block.shopify_attributes }}>
          {% if block.settings.image %}
            <div class="card-image-wrapper">
              <img 
                src="{{ block.settings.image | img_url: '200x' }}"
                alt="{{ block.settings.title | escape }}"
                class="card-image"
                loading="lazy"
              >
            </div>
          {% endif %}
          
          <h3 class="card-title">{{ block.settings.title }}</h3>
          <p class="card-description">{{ block.settings.description }}</p>
        </div>
      {% endfor %}
    </div>

    {% if section.settings.button_text != blank %}
      <div class="benefits-cta">
        <a href="{{ section.settings.button_link }}" class="benefits-button">
          {{ section.settings.button_text }}
        </a>
        
        {% if section.settings.guarantee_text != blank %}
          <div class="benefits-guarantee">
            <svg class="guarantee-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L3 7V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V7L12 2Z" fill="currentColor" opacity="0.3"/>
              <path d="M10 17L6 13L7.41 11.59L10 14.17L16.59 7.58L18 9L10 17Z" fill="currentColor"/>
            </svg>
            <span>{{ section.settings.guarantee_text }}</span>
          </div>
        {% endif %}
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Why It Works - Benefits",
  "settings": [
    {
      "type": "text",
      "id": "badge_text",
      "label": "Badge Text",
      "default": "WHY IT WORKS"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Lunari is Different"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Discover what makes Lunari different from everything else you've tried."
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "GET STARTED NOW"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "text",
      "id": "guarantee_text",
      "label": "Guarantee Text",
      "default": "90-day money back guarantee"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#2d1114"
    },
    {
      "type": "color",
      "id": "card_background_color",
      "label": "Card Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Card Border Color (for featured)",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color (Badge & Featured Border)",
      "default": "#8b1538"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button Background Color",
      "default": "#8b1538"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "benefit_card",
      "name": "Benefit Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Card Icon/Image"
        },
        {
          "type": "checkbox",
          "id": "featured",
          "label": "Featured Card (with colored border)",
          "default": false
        },
        {
          "type": "text",
          "id": "title",
          "label": "Card Title",
          "default": "Benefit Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Card Description",
          "default": "Describe the benefit here with detailed information about what makes this special."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Why It Works - Benefits",
      "blocks": [
        {
          "type": "benefit_card",
          "settings": {
            "featured": true,
            "title": "The Carb-Blocker Secret Weapon",
            "description": "Powered by clinical-grade Garcinia Cambogia, Lunari helps block the enzyme your body uses to turn carbohydrates into fat storage. It's your insurance policy for pasta night, sushi dates, and those 'oops' meals that usually derail your progress. Instead of storing carbs as fat, your body is encouraged to use them for energy or pass them through. Think of it as a metabolic safety net that lets you live your life without the next-day scale spike."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "featured": false,
            "title": "Digestive Freedom You Can Feel",
            "description": "Bloating isn't just uncomfortable—it's a confidence killer. Lunari is infused with Pomegranate Extract and Maltodextrin (a prebiotic fiber) that keeps your digestive system moving smoothly. Say goodbye to heavy, sluggish feeling after lunch. No more awkward tight dresses because you're worried about your stomach."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "featured": false,
            "title": "Zero-Friction Compliance = Real Results",
            "description": "The best supplement in the world is worthless if it's sitting in your drawer. Lunari was designed for real life: no pills to choke down, no water required, no shaker bottles to clean. Just tear open a delicious pomegranate jelly stick and enjoy it anywhere."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "featured": false,
            "title": "Satiety On Demand: Kill Cravings Before They Kill Progress",
            "description": "The unique jelly texture isn't just for taste—it provides a genuine 'fuller' feeling that helps you fight back against the 3 PM sugar monster and late-night snack attacks. Unlike water-based drinks that leave you hungry 20 minutes later, Lunari's gel consistency creates satiety that lasts."
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "featured": false,
            "title": "A Lifestyle Upgrade, Not Another Chore",
            "description": "We didn't create another obligation. We created a moment of self-care you'll actually look forward to. Keep your Lunari sticks chilled in the fridge, and each one becomes a refreshing, indulgent ritual that happens to be working behind the scenes to support your metabolism."
          }
        }
      ]
    }
  ]
}
{% endschema %}